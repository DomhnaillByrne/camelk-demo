- route:
    id: route-0841
    from:
      uri: rest:get:demo-endpoint
      id: from-daf5
      steps:
        - removeHeaders:
            pattern: CamelHttp*
            id: removeHeaders-7721
            excludePattern: CamelHttpMethod
        - to:
            uri: kamelet:log-action
            id: to-8042
            parameters:
              level: debug
              showBody: true
              showBodyType: true
              showExchangePattern: true
              showAllProperties: true
        - enrich:
            id: enrich-e2a6
            expression:
              constant:
                expression: http://localhost:3000/demo-api1
                id: constant-6c4b
                trim: true
        - enrich:
            id: enrich-c642
            expression:
              constant:
                expression: http://localhost:3000/demo-api2
                id: constant-7c9c
            aggregationStrategy: DemoEnrichmentStrategy
        - log:
            message: enriched-message1 = ${body}
            id: log-9bef
        - to:
            uri: kamelet:log-action
            id: to-8042
            parameters:
              level: debug
              showBody: true
              showBodyType: true
              showExchangePattern: true
        - to:
            uri: direct:output-post
            id: parent-sink
- route:
    id: route-1
    from:
      uri: direct:parent-route
      id: from-3936
      steps:
        - log:
            message: route-1 triggered
            id: log-6b02
            loggingLevel: DEBUG
        - to:
            uri: kamelet:log-sink
            id: to-81e1
- route:
    id: route-fcad
    from:
      uri: direct:output-post
      id: from-a08e
      steps:
        - log:
            message: ${body}
            id: log-output
